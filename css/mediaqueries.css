/* Media Queries for Windows XP Portfolio */

@media screen and (max-width: 1200px) {
    .window {
        width: 80%;
        max-width: 900px;
    }

    .project-cards {
        grid-template-columns: repeat(2, 1fr);
    }

    .start-menu {
        width: 280px;
    }
}

@media screen and (max-width: 768px) {
    .desktop-icons {
        grid-template-columns: repeat(auto-fill, 70px);
        grid-gap: 15px;
        padding: 15px;
    }

    .desktop-icon span {
        font-size: 10px;
    }

    .window {
        width: 90%;
        left: 5% !important;
        max-height: 80vh;
        max-width: none;
        min-width: unset;
    }

    .project-cards {
        grid-template-columns: 1fr;
    }

    .skill-categories {
        flex-direction: column;
    }

    .start-menu {
        width: 250px;
    }

    .taskbar {
        height: 35px;
    }

    .window-controls button {
        width: 25px;
        height: 25px;
    }

    /* Improve tab display on mobile */
    .windows-tabs {
        flex-wrap: wrap;
    }

    .tab {
        font-size: 12px;
        padding: 6px 12px;
    }

    /* Improve window header on mobile */
    .window-header {
        padding: 4px 6px;
    }

    .window-title {
        font-size: 14px;
        max-width: 200px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Adjust start menu for mobile */
    .start-menu {
        max-height: 70vh;
    }

    .start-menu-body {
        height: auto;
        max-height: 50vh;
    }

    /* Fix z-index issues with start menu on mobile */
    .start-menu.active {
        z-index: 2000;
    }
}

@media screen and (max-width: 480px) {
    .desktop-icons {
        grid-template-columns: repeat(3, 60px);
        grid-gap: 10px;
        padding: 10px;
        justify-content: center;
    }

    .desktop-icon img {
        width: 32px;
        height: 32px;
    }

    .desktop-icon span {
        font-size: 9px;
        word-wrap: break-word;
        text-align: center;
        width: 100%;
    }

    .window {
        min-width: 0;
        width: 95%;
        left: 2.5% !important;
        top: 40px !important;
        height: calc(100vh - 75px) !important;
        position: fixed;
    }

    .window-header {
        padding: 5px;
    }

    .window-title {
        font-size: 14px;
        max-width: 150px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .window-content {
        padding: 10px;
        max-height: calc(100% - 60px);
        overflow-y: auto;
    }

    .start-menu {
        width: 100%;
        left: 0;
        bottom: 35px;
        max-height: calc(100vh - 35px);
    }

    .start-menu-left {
        width: 100%;
    }

    .start-menu-right {
        display: none;
    }

    .start-menu-body {
        flex-direction: column;
        height: auto;
        max-height: 60vh;
        overflow-y: auto;
    }

    input[type="text"],
    input[type="email"],
    textarea {
        padding: 8px;
        font-size: 14px;
    }

    .taskbar-item span {
        display: none;
    }

    /* Improve tabs on very small screens */
    .windows-tabs {
        overflow-x: auto;
        flex-wrap: nowrap;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 5px;
    }

    .tab {
        flex: 0 0 auto;
        white-space: nowrap;
    }

    /* Fix window controls on small screens */
    .window-controls {
        margin-left: 5px;
    }

    .window-controls button {
        width: 22px;
        height: 22px;
        margin-left: 1px;
        font-size: 10px;
    }

    /* Adjust login screen for mobile */
    .login-box {
        width: 90%;
        padding: 20px;
    }

    /* Fix error dialog on mobile */
    .error-dialog {
        width: 90%;
        left: 50%;
        transform: translateX(-50%);
        top: 40%;
    }

    /* Fix window maximized state on mobile */
    .window.maximized {
        width: 100% !important;
        height: calc(100vh - 35px) !important;
        top: 0 !important;
        left: 0 !important;
    }
}

/* Landscape orientation adjustments for mobile */
@media screen and (max-height: 500px) {
    .desktop-icons {
        grid-template-columns: repeat(auto-fill, 60px);
        grid-gap: 8px;
        padding: 5px;
    }

    .window {
        max-height: calc(100vh - 40px);
    }

    .start-menu {
        height: auto;
        max-height: 80vh;
    }

    .start-menu-body {
        height: auto;
        max-height: 60vh;
        overflow-y: auto;
    }

    .login-screen .login-box {
        padding: 15px;
    }

    .boot-screen .boot-logo {
        width: 120px;
        height: 120px;
        margin-bottom: 20px;
    }
}

/* Fix for iOS Safari 100vh issue */
@supports (-webkit-touch-callout: none) {
    .window {
        max-height: -webkit-fill-available;
    }

    .start-menu {
        max-height: -webkit-fill-available;
    }

    .boot-screen, .login-screen {
        height: -webkit-fill-available;
    }
}
